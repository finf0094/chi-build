"use strict";(self.webpackChunkca_sln_web=self.webpackChunkca_sln_web||[]).push([[15],{1015:(n,e,t)=>{t.r(e),t.d(e,{default:()=>P});var a=t(4848),r=t(6540),o=t(2389),i=t(1468),u=t(2636),c=t(5766),l=t(8232),s=t(3633),d=t(2242),f=t(2640),p=t(8113),v=t(1873),h=t(5452),y=t(2635),m=t(8156),g=new m.BR,b={fullName:"",position:"",qualificationName:"",educationName:"",justification:"",durationStudy:new Date,isLoading:!1,error:""},w=(0,h.Z0)({name:"addStaffTrainingSlice",initialState:b,reducers:{setFullName:function(n,e){n.fullName=e.payload},setPosition:function(n,e){n.position=e.payload},setQualificationName:function(n,e){n.qualificationName=e.payload},setJustification:function(n,e){n.justification=e.payload},setEducationName:function(n,e){n.educationName=e.payload},setDurationStudy:function(n,e){n.durationStudy=e.payload},setTuitionFees:function(n,e){n.tuitionFees=e.payload}},extraReducers:function(n){n.addCase(x.pending,(function(n){n.isLoading=!0})).addCase(x.rejected,(function(n,e){n.isLoading=!1,n.error=e.payload})).addCase(x.fulfilled,(function(n){n.isLoading=!1}))}}),S=w.actions,j=w.reducer,x=(0,h.zD)("createStaffTraining",(function(n,e){var t,a,r,o,i=e.rejectWithValue,u=e.dispatch;return t=void 0,a=void 0,o=function(){var e,t;return function(n,e){var t,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(c){return function(u){if(t)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(i=0)),i;)try{if(t=1,a&&(r=2&u[0]?a.return:u[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,u[1])).done)return r;switch(a=0,r&&(u=[2&u[0],r.value]),u[0]){case 0:case 1:r=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,a=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!r||u[1]>r[0]&&u[1]<r[3])){i.label=u[1];break}if(6===u[0]&&i.label<r[1]){i.label=r[1],r=u;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(u);break}r[2]&&i.ops.pop(),i.trys.pop();continue}u=e.call(n,i)}catch(n){u=[6,n],a=0}finally{t=r=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),e=new m.Oc(n),[4,g.postApiStaffTrainingsCreateStaffTraining(e)];case 1:return a.sent(),u(S.setFullName("")),u(S.setPosition("")),u(S.setJustification("")),u(S.setQualificationName("")),u(S.setEducationName("")),u(S.setDurationStudy(new Date)),[3,3];case 2:return t=a.sent(),console.log("[StaffTraining.createStaffTraining]: ",t),[2,i(y.Ay.t("Произошла ошибка при добавлении обучений."))];case 3:return[2]}}))},new((r=void 0)||(r=Promise))((function(n,e){function i(n){try{c(o.next(n))}catch(n){e(n)}}function u(n){try{c(o.throw(n))}catch(n){e(n)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(n){n(t)}))).then(i,u)}c((o=o.apply(t,a||[])).next())}))})),T=function(n){var e;return null===(e=null==n?void 0:n.addStaffTrainingForm)||void 0===e?void 0:e.fullName},N=function(n){var e;return null===(e=null==n?void 0:n.addStaffTrainingForm)||void 0===e?void 0:e.educationName},F=function(n){var e;return null===(e=null==n?void 0:n.addStaffTrainingForm)||void 0===e?void 0:e.justification},C=function(n){var e;return null===(e=null==n?void 0:n.addStaffTrainingForm)||void 0===e?void 0:e.position},O=function(n){var e;return null===(e=null==n?void 0:n.addStaffTrainingForm)||void 0===e?void 0:e.durationStudy},A=function(n){var e;return null===(e=null==n?void 0:n.addStaffTrainingForm)||void 0===e?void 0:e.tuitionFees},k=function(n){var e;return null===(e=null==n?void 0:n.addStaffTrainingForm)||void 0===e?void 0:e.isLoading},I=function(n){var e;return null===(e=null==n?void 0:n.addStaffTrainingForm)||void 0===e?void 0:e.error},E={addStaffTrainingForm:j};const P=(0,r.memo)((function(n){var e=n.className,t=n.onSuccess,h=(0,o.Bd)("AddStaffTrainingForm").t,y=(0,f.j)(),m=(0,v.A)(T,S.setFullName),g=m[0],b=m[1],w=(0,v.A)(N,S.setEducationName),j=w[0],P=w[1],D=(0,v.A)(F,S.setJustification),M=D[0],B=D[1],L=(0,v.A)(C,S.setPosition),R=L[0],_=L[1],q=(0,v.A)(A,S.setTuitionFees),J=q[0],W=q[1],Z=(0,i.d4)(O),G=(0,i.d4)(k),Q=(0,i.d4)(I),U=(0,r.useMemo)((function(){return[{value:g,onChange:b,placeholder:h("ФИО")},{value:R,onChange:_,placeholder:h("Должность")},{value:j,onChange:P,placeholder:h("Наименование курса повышения квалификации/обучения")},{value:M,onChange:B,placeholder:h("Обоснование необходимости обучения")},{value:J,onChange:W,placeholder:h("Стоимость обучения"),type:"number"},{value:null==Z?void 0:Z.toISOString().split("T")[0],onChange:W,placeholder:h("Срок обучения"),type:"date"}]}),[j,g,M,R,P,b,B,_,W,h,J,Z]),X=(0,r.useCallback)((function(){return n=void 0,e=void 0,r=function(){return function(n,e){var t,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(c){return function(u){if(t)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(i=0)),i;)try{if(t=1,a&&(r=2&u[0]?a.return:u[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,u[1])).done)return r;switch(a=0,r&&(u=[2&u[0],r.value]),u[0]){case 0:case 1:r=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,a=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!r||u[1]>r[0]&&u[1]<r[3])){i.label=u[1];break}if(6===u[0]&&i.label<r[1]){i.label=r[1],r=u;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(u);break}r[2]&&i.ops.pop(),i.trys.pop();continue}u=e.call(n,i)}catch(n){u=[6,n],a=0}finally{t=r=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}(this,(function(n){switch(n.label){case 0:return[4,y(x({fullName:g,educationName:j,justification:M,tuitionFees:J,position:R,durationStudy:Z}))];case 1:return"fulfilled"===n.sent().meta.requestStatus&&t(),[2]}}))},new((a=void 0)||(a=Promise))((function(t,o){function i(n){try{c(r.next(n))}catch(n){o(n)}}function u(n){try{c(r.throw(n))}catch(n){o(n)}}function c(n){var e;n.done?t(n.value):(e=n.value,e instanceof a?e:new a((function(n){n(e)}))).then(i,u)}c((r=r.apply(n,e||[])).next())}));var n,e,a,r}),[y,g,j,M,J,R,Z,t]);return(0,a.jsx)(d.A,{reducers:E,children:(0,a.jsxs)(s.T,{align:"center",justify:"center",gap:"32",className:(0,p.x)("",{},[e]),children:[U.map((function(n,e){return(0,a.jsx)(c.A,{type:n.type||"text",value:n.value,onChange:n.onChange,placeholder:n.placeholder,autofocus:0===e},e)})),(0,a.jsx)(u.A,{disabled:G,onClick:X,children:h("Добавить")}),Q&&(0,a.jsx)(l.A,{color:"error",children:Q})]})})}))},2242:(n,e,t)=>{t.d(e,{A:()=>i});var a=t(4848),r=t(6540),o=t(1468);const i=function(n){var e=n.children,t=n.reducers,i=n.removeAfterUnmount,u=void 0!==i&&i,c=(0,o.wA)(),l=(0,o.Pj)();return(0,r.useEffect)((function(){var n=l.reducerManager.getMountedReducers();return Object.entries(t).forEach((function(e){var t=e[0],a=e[1];n[t]||(l.reducerManager.add(t,a),c({type:"@@INIT ".concat(t," reducer")}))})),function(){u&&Object.entries(t).forEach((function(n){var e=n[0];l.reducerManager.remove(e),c({type:"@@DESTROY ".concat(e," reducer")})}))}}),[]),(0,a.jsx)(a.Fragment,{children:e})}},1873:(n,e,t)=>{t.d(e,{A:()=>u});var a=t(6540),r=t(1468),o=t(2640),i=r.d4;const u=function(n,e){var t=(0,o.j)();return[i(n),(0,a.useCallback)((function(n){t(e(n))}),[t,e])]}},5766:(n,e,t)=>{t.d(e,{A:()=>c});var a=t(4848),r=t(6540),o=t(8113);const i={TextFieldWrapper:"A2scc2co",filled:"jBZZjkBq",outlined:"ant9aXBn",standard:"BMyD9pnU",startIcon:"lCpMO13e",endIcon:"ojCjfcXo",TextField:"iHOyhr5_"};var u=function(){return u=Object.assign||function(n){for(var e,t=1,a=arguments.length;t<a;t++)for(var r in e=arguments[t])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},u.apply(this,arguments)};const c=(0,r.memo)((function(n){var e,t=n.variant,c=void 0===t?"standard":t,l=n.autofocus,s=n.onChange,d=n.value,f=n.startIcon,p=n.endIcon,v=function(n,e){var t={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(t[a]=n[a]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(n);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(n,a[r])&&(t[a[r]]=n[a[r]])}return t}(n,["variant","autofocus","onChange","value","startIcon","endIcon"]),h=(0,r.useRef)(null),y=(0,r.useState)(!1),m=y[0],g=y[1];(0,r.useEffect)((function(){l&&(g(!0),h.current.focus())}),[l]);var b=((e={})[i[c]]=!0,e);return(0,a.jsxs)("div",{"data-testid":"text-field-wrapper",className:(0,o.x)(i.TextFieldWrapper,b,[]),children:[f&&(0,a.jsx)("span",{className:i.startIcon,children:f}),(0,a.jsx)("input",u({ref:h,autoFocus:m,onChange:function(n){null==s||s(n.target.value)},value:d,"data-testid":"text-field",className:i.TextField},v)),p&&(0,a.jsx)("span",{className:i.endIcon,children:p})]})}))}}]);